"use strict";(self.webpackChunk_minimal_ui_ux=self.webpackChunk_minimal_ui_ux||[]).push([[241],{52968:function(e,n,t){t.r(n),t.d(n,{default:function(){return Fn}});var r=t(72791),o=t(59434),i=t(1413),a=t(49140),l=t(66934),s=t(45987),c=t(78156),d=t(45358),u=t(64554),p=t(80184),h=["color","size","scrollYProgress","sx"];function f(e){var n=e.color,t=void 0===n?"primary":n,r=e.size,o=void 0===r?3:r,a=e.scrollYProgress,l=e.sx,f=(0,s.Z)(e,h),x=(0,c.q)(a,{stiffness:100,damping:30,restDelta:.001});return(0,p.jsx)(u.Z,(0,i.Z)({component:d.m.div,sx:(0,i.Z)((0,i.Z)({top:0,left:0,right:0,height:o,zIndex:1999,position:"fixed",transformOrigin:"0%",bgcolor:"text.primary"},"inherit"!==t&&{background:function(e){return"linear-gradient(135deg, ".concat(e.palette[t].light," 0%, ").concat(e.palette[t].main," 100%)")}}),l),style:{scaleX:x}},f))}var x=t(60725),g=t(4942),m=t(29439),v=(t(45812),t(13967)),b=t(36314),Z=t(89164),y=t(64247),j=t(51658),k=t(83854),w=t(22459),C=t(84998),I=(t(66964),t(89891)),_=t(44e3),S=t(12065),D=t(4567),F=t(33805),T=["title","imgUrl","action","filled","description","sx"];function R(e){var n=e.title,t=e.imgUrl,r=e.action,o=e.filled,a=e.description,l=e.sx,c=(0,s.Z)(e,T);return(0,p.jsxs)(b.Z,(0,i.Z)((0,i.Z)({flexGrow:1,alignItems:"center",justifyContent:"center",sx:(0,i.Z)((0,i.Z)({px:3,height:1},o&&{borderRadius:2,bgcolor:function(e){return(0,S.Fq)(e.palette.grey[500],.04)},border:function(e){return"dashed 1px ".concat((0,S.Fq)(e.palette.grey[500],.08))}}),l)},c),{},{children:[(0,p.jsx)(u.Z,{component:"img",alt:"empty content",src:t||"".concat(F.FX,"/assets/icons/empty/ic_content.svg"),sx:{width:1,maxWidth:160}}),n&&(0,p.jsx)(D.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:n}),a&&(0,p.jsx)(D.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:a}),r&&r]}))}var M=t(99741),N=(t(50933),t(16013)),O=t(3517),P=t(55907),V=t(59856),z=t(86414),A=t(19208),L=t(5574),E=t(24308),G=t(50533),W=t(57621),q=t(82626),H=t(13400),B=t(49900),K=t(55931),Y=t(25256),U=t(34663),Q=t(61474),X=t(25228),$=t(16386);function J(e,n){var t=n||"dd MMM yyyy";return e?(0,$.Z)(new Date(e),t):""}function ee(e,n){var t=n||"dd MMM yyyy hh:mm:ss a";return e?(0,$.Z)(new Date(e),t):""}t(26098);var ne=t(87087);function te(){return{"4/3":"calc(100% / 4 * 3)","3/4":"calc(100% / 3 * 4)","6/4":"calc(100% / 6 * 4)","4/6":"calc(100% / 4 * 6)","16/9":"calc(100% / 16 * 9)","9/16":"calc(100% / 9 * 16)","21/9":"calc(100% / 21 * 9)","9/21":"calc(100% / 9 * 21)","1/1":"100%"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1/1"]}var re=["ratio","overlay","disabledEffect","alt","src","afterLoad","delayTime","threshold","beforeLoad","delayMethod","placeholder","wrapperProps","scrollPosition","effect","visibleByDefault","wrapperClassName","useIntersectionObserver","sx"],oe=(0,r.forwardRef)((function(e,n){var t=e.ratio,r=e.overlay,o=e.disabledEffect,a=void 0!==o&&o,l=e.alt,c=e.src,d=e.afterLoad,h=e.delayTime,f=e.threshold,x=e.beforeLoad,g=e.delayMethod,m=e.placeholder,b=e.wrapperProps,Z=e.scrollPosition,y=e.effect,j=void 0===y?"blur":y,k=e.visibleByDefault,w=e.wrapperClassName,C=e.useIntersectionObserver,I=e.sx,_=(0,s.Z)(e,re),D=(0,v.Z)(),T=!!r&&{"&:before":{content:"''",top:0,left:0,width:1,height:1,zIndex:1,position:"absolute",background:r||(0,S.Fq)(D.palette.grey[900],.48)}},R=(0,p.jsx)(u.Z,{component:ne.LazyLoadImage,alt:l,src:c,afterLoad:d,delayTime:h,threshold:f,beforeLoad:x,delayMethod:g,placeholder:m,wrapperProps:b,scrollPosition:Z,visibleByDefault:k,effect:a?void 0:j,useIntersectionObserver:C,wrapperClassName:w||"component-image-wrapper",placeholderSrc:"".concat(F.FX,a?"/assets/transparent.png":"/assets/placeholder.svg"),sx:(0,i.Z)({width:1,height:1,objectFit:"cover",verticalAlign:"bottom"},!!t&&{top:0,left:0,position:"absolute"})});return(0,p.jsx)(u.Z,(0,i.Z)((0,i.Z)({ref:n,component:"span",className:"component-image",sx:(0,i.Z)((0,i.Z)((0,i.Z)({overflow:"hidden",position:"relative",verticalAlign:"bottom",display:"inline-block"},!!t&&{width:1}),{},{"& span.component-image-wrapper":(0,i.Z)({width:1,height:1,verticalAlign:"bottom",backgroundSize:"cover !important"},!!t&&{pt:te(t)})},T),I)},_),{},{children:R}))})),ie=t(80160),ae=t(52115),le=t(82599),se=t(54690),ce=t(85375);var de=t(36459),ue=t(56920);t(98847);ue.Z.configure({languages:["javascript","sh","bash","html","scss","css","json"]}),"undefined"!==typeof window&&(window.hljs=ue.Z);var pe=t(78082),he=t(19945),fe=t(71502),xe=t(4204),ge=(0,l.ZP)("div")((function(e){var n,t=e.theme,r="light"===t.palette.mode;return{h1:(0,i.Z)({margin:0},t.typography.h1),h2:(0,i.Z)({margin:0},t.typography.h2),h3:(0,i.Z)({margin:0},t.typography.h3),h4:(0,i.Z)({margin:0},t.typography.h4),h5:(0,i.Z)({margin:0},t.typography.h5),h6:(0,i.Z)({margin:0},t.typography.h6),p:(0,i.Z)({margin:0},t.typography.body1),br:{display:"grid",content:'""',marginTop:"0.75em"},hr:{margin:0,flexShrink:0,borderWidth:0,msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:t.palette.divider},"& ul, & ol":{margin:0,"& li":{lineHeight:2}},"& blockquote":(n={lineHeight:1.5,fontSize:"1.5em",margin:"40px auto",position:"relative",fontFamily:"Georgia, serif",padding:t.spacing(3,3,3,8),color:t.palette.text.secondary,borderRadius:2*t.shape.borderRadius,backgroundColor:t.palette.background.neutral},(0,g.Z)(n,t.breakpoints.up("md"),{width:"80%"}),(0,g.Z)(n,"& p, & span",{marginBottom:0,fontSize:"inherit",fontFamily:"inherit"}),(0,g.Z)(n,"&:before",{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:t.palette.text.disabled}),n),"& pre, & pre > code":{fontSize:16,overflowX:"auto",whiteSpace:"pre",padding:t.spacing(2),color:t.palette.common.white,borderRadius:t.shape.borderRadius,backgroundColor:r?t.palette.grey[900]:(0,S.Fq)(t.palette.grey[500],.16)},"& code":{fontSize:14,borderRadius:4,whiteSpace:"pre",padding:t.spacing(.2,.5),color:t.palette.warning[r?"darker":"lighter"],backgroundColor:t.palette.warning[r?"lighter":"darker"],"&.hljs":{padding:0,backgroundColor:"transparent"}},table:{width:"100%",borderCollapse:"collapse",border:"1px solid ".concat(t.palette.divider),"th, td":{padding:t.spacing(1),border:"1px solid ".concat(t.palette.divider)},"tbody tr:nth-of-type(odd)":{backgroundColor:t.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:t.palette.grey[r?300:700]},"&:checked":{"&:before":{backgroundColor:t.palette.primary.main},"&:after":{content:'""',top:1,left:5,width:4,height:9,position:"absolute",transform:"rotate(45deg)",msTransform:"rotate(45deg)",WebkitTransform:"rotate(45deg)",border:"solid ".concat(t.palette.common.white),borderWidth:"0 2px 2px 0"}}}}}})),me=["sx"];function ve(e){var n=e.sx,t=(0,s.Z)(e,me);return(0,p.jsx)(ge,{sx:n,children:(0,p.jsx)(pe.D,(0,i.Z)({rehypePlugins:[he.Z,xe.Z,[fe.Z,{singleTilde:!1}]],components:be},t))})}var be={img:function(e){var n=Object.assign({},((0,de.Z)(e),e));return(0,p.jsx)(oe,(0,i.Z)({alt:n.alt,ratio:"16/9",sx:{borderRadius:2}},n))},a:function(e){var n=Object.assign({},((0,de.Z)(e),e));return n.href.includes("http")?(0,p.jsx)(G.Z,(0,i.Z)({target:"_blank",rel:"noopener"},n)):(0,p.jsx)(G.Z,(0,i.Z)((0,i.Z)({component:k.r,href:n.href},n),{},{children:n.children}))}},Ze=t(95717);(0,l.ZP)(u.Z,{shouldForwardProp:function(e){return"rounded"!==e}})((function(e){var n=e.rounded;return{zIndex:9,margin:0,padding:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.theme.palette.primary.main,"& li":{width:18,height:18,opacity:.32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&.slick-active":(0,i.Z)({opacity:1},n&&{"& span":{width:16,borderRadius:6}})}}})),(0,l.ZP)("span")((function(e){var n=e.theme;return{width:8,height:8,borderRadius:"50%",transition:n.transitions.create(["width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.short})}}));(0,l.ZP)(H.Z,{shouldForwardProp:function(e){return"filled"!==e&&"hasChild"!==e&&"shape"!==e}})((function(e){var n=e.filled,t=e.shape,r=e.hasChild,o=e.theme;return(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({color:"inherit",transition:o.transitions.create("all",{duration:o.transitions.duration.shorter})},"rounded"===t&&{borderRadius:1.5*o.shape.borderRadius}),!n&&{opacity:.48,"&:hover":{opacity:1}}),n&&{color:(0,S.Fq)(o.palette.common.white,.8),backgroundColor:(0,S.Fq)(o.palette.grey[900],.48),"&:hover":{color:o.palette.common.white,backgroundColor:o.palette.grey[900]}}),r&&{zIndex:9,top:"50%",position:"absolute",marginTop:o.spacing(-2.5)})}));var ye=t(74744);(0,l.ZP)(u.Z)((function(e){var n=e.theme;return(0,i.Z)((0,i.Z)({},(0,ye.Ls)({opacity:.48,color:n.palette.grey[900]})),{},{zIndex:9,display:"inline-flex",alignItems:"center",position:"absolute",bottom:n.spacing(2),right:n.spacing(2),padding:n.spacing(.25),color:n.palette.common.white,borderRadius:n.shape.borderRadius})})),(0,l.ZP)(H.Z)({width:28,height:28,padding:0,opacity:.48,"&:hover":{opacity:1}});var je=t(74165),ke=t(15861),we=t(93433),Ce=t(30439),Ie=t(65661),_e=t(97123),Se=t(39157),De=t(85523),Fe=t(13034),Te=(0,r.forwardRef)((function(e,n){return(0,p.jsx)(K.Z,(0,i.Z)({direction:"up",ref:n},e))}));function Re(){var e=(0,v.Z)(),n=(0,o.I0)(),t=(0,o.v9)((function(e){return e.user})),i=t.swipeLeftState,a=t.vehicleReports,l=t.swipeData,s=t.loginUserState,c=t.addingServicesLoading,d=(0,r.useState)(i),u=(0,m.Z)(d,2),h=u[0],f=u[1],g=(0,r.useState)((0,O.Qd)(null===l||void 0===l?void 0:l.Vehicle_Items,"display_value")),Z=(0,m.Z)(g,2),y=Z[0],j=Z[1];(0,r.useEffect)((function(){console.log("carData Left services",y),f(!!i)}),[i,y]);var k=(0,O.VQ)(a,"Vehicle_Item"),w=(0,p.jsx)(b.Z,{children:k.map((function(e){return(0,p.jsx)(De.Z,{control:(0,p.jsx)(Fe.Z,{checked:y.includes(e),onClick:function(){return n=e,void(y.includes(n)?j(y.filter((function(e){return e!==n}))):j([].concat((0,we.Z)(y),[n])));var n}}),label:e},e)}))});return(0,p.jsx)("div",{children:(0,p.jsxs)(L.Z,{keepMounted:!0,open:h,TransitionComponent:Te,children:[(0,p.jsx)(Ie.Z,{sx:{borderBottom:"dashed 1px ".concat(e.palette.divider)},children:null===l||void 0===l?void 0:l.Car_FullName}),(0,p.jsxs)(Se.Z,{children:[(0,p.jsx)(D.Z,{sx:{mb:3,mt:3},children:c?"Adding Reason(s) the vehicle could not be serviced":"Reason(s) the vehicle could not be serviced"}),c&&(0,p.jsx)(x.a,{}),!c&&w]}),(0,p.jsx)(_e.Z,{sx:{borderTop:"dashed 1px ".concat(e.palette.divider),mt:3,justifyContent:"center"},children:!c&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ce.Z,{variant:"contained",autoFocus:!0,onClick:function(){var e={};e.appName=null===s||void 0===s?void 0:s.appLinkName,e.reportName="On_Site_Inventory",e.id=null===l||void 0===l?void 0:l.ID,e.ACTION_V="ADDING_REASONS";var t={},r={},o=(0,O.n6)(a,y);r.Vehicle_Items=o,t.data=r,e.formData=t,e.UPDATE_FORMAT_VEHICLE_ITEMS=(0,O.um)(a,o),console.log("CONFIG",e);var i=function(){var t=(0,ke.Z)((0,je.Z)().mark((function t(){return(0,je.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n((0,P.Vs)(e));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();i()},children:"Save"}),(0,p.jsx)(Ce.Z,{variant:"outlined",onClick:function(){f(!1),n((0,P.sH)({name:"swipeLeftState",value:!1}))},children:"Cancel"})]})})]})})}Te.displayName="Transition";var Me=(0,r.forwardRef)((function(e,n){return(0,p.jsx)(K.Z,(0,i.Z)({direction:"up",ref:n},e))}));function Ne(){var e=(0,o.I0)(),n=(0,v.Z)(),t=(0,o.v9)((function(e){return e.user})),i=t.swipeRightState,a=t.loginUserState,l=t.addingKeysNeededLoading,s=t.swipeData,c=(0,r.useState)(i),d=(0,m.Z)(c,2),u=d[0],h=d[1];(0,r.useEffect)((function(){h(!!i)}),[i]),(0,r.useEffect)((function(){var n={};n.appName=null===a||void 0===a?void 0:a.appLinkName,n.reportName="On_Site_Inventory",n.id=null===s||void 0===s?void 0:s.ID,n.ACTION_V="ADDING_KEYS";var t={},r={Keys:"Need"};t.data=r,n.formData=t,console.log("CONFIG",n);var o=function(){var t=(0,ke.Z)((0,je.Z)().mark((function t(){return(0,je.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e((0,P.Vs)(n));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o()}),[a,s,e]);return(0,p.jsx)("div",{children:(0,p.jsxs)(L.Z,{keepMounted:!0,open:u,TransitionComponent:Me,children:[(0,p.jsx)(Ie.Z,{sx:{borderBottom:"dashed 1px ".concat(n.palette.divider)},children:null===s||void 0===s?void 0:s.Car_FullName}),(0,p.jsxs)(Se.Z,{sx:{pb:3},children:[(0,p.jsx)(D.Z,{sx:{mb:3,mt:3,textAlign:"center"},children:l?"Adding to Keys Needed":"Success! Added to Keys Needed"}),l&&(0,p.jsx)(x.a,{})]}),!l&&(0,p.jsx)(_e.Z,{sx:{borderTop:"dashed 1px ".concat(n.palette.divider),mt:3,justifyContent:"center"},children:(0,p.jsx)(Ce.Z,{variant:"outlined",onClick:function(){e((0,P.sH)({name:"swipeRightState",value:!1}))},children:"Okay"})})]})})}Me.displayName="Transition";var Oe=Ze.Z;var Pe=t(62291),Ve=t(70482),ze=t(98628),Ae=t(73557),Le=t(19375),Ee=t(38559),Ge=t(36654),We=t(6199);function qe(){var e=(0,v.Z)();return(0,p.jsx)(We.Z,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":(0,S.Fq)(e.palette.grey[900],.9),"--yarl__slide_captions_container_background":(0,S.Fq)(e.palette.grey[900],.48)},".yarl__slide_title":{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.h5.fontWeight,lineHeight:e.typography.h5.lineHeight},".yarl__slide_description":{fontSize:e.typography.body2.fontSize,fontWeight:e.typography.body2.fontWeight,lineHeight:e.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:e.palette.common.black}}})}var He=["slides","disabledZoom","disabledVideo","disabledTotal","disabledCaptions","disabledSlideshow","disabledThumbnails","disabledFullscreen","onGetCurrentIndex"],Be=24;function Ke(e){var n=e.slides,t=e.disabledZoom,r=e.disabledVideo,o=e.disabledTotal,a=e.disabledCaptions,l=e.disabledSlideshow,c=e.disabledThumbnails,d=e.disabledFullscreen,u=e.onGetCurrentIndex,h=(0,s.Z)(e,He),f=n?n.length:0;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(qe,{}),(0,p.jsx)(Pe.ZP,(0,i.Z)({slides:n,animation:{swipe:240},carousel:{finite:f<5},controller:{closeOnBackdropClick:!0},plugins:Ye({disabledZoom:t,disabledVideo:r,disabledCaptions:a,disabledSlideshow:l,disabledThumbnails:c,disabledFullscreen:d}),on:{view:function(e){var n=e.index;u&&u(n)}},toolbar:{buttons:[(0,p.jsx)(Ue,{totalItems:f,disabledTotal:o},0),"close"]},render:{iconClose:function(){return(0,p.jsx)(_.Z,{width:Be,icon:"carbon:close"})},iconZoomIn:function(){return(0,p.jsx)(_.Z,{width:Be,icon:"carbon:zoom-in"})},iconZoomOut:function(){return(0,p.jsx)(_.Z,{width:Be,icon:"carbon:zoom-out"})},iconSlideshowPlay:function(){return(0,p.jsx)(_.Z,{width:Be,icon:"carbon:play"})},iconSlideshowPause:function(){return(0,p.jsx)(_.Z,{width:Be,icon:"carbon:pause"})},iconPrev:function(){return(0,p.jsx)(_.Z,{width:Be+8,icon:"carbon:chevron-left"})},iconNext:function(){return(0,p.jsx)(_.Z,{width:Be+8,icon:"carbon:chevron-right"})},iconExitFullscreen:function(){return(0,p.jsx)(_.Z,{width:Be,icon:"carbon:center-to-fit"})},iconEnterFullscreen:function(){return(0,p.jsx)(_.Z,{width:Be,icon:"carbon:fit-to-screen"})}}},h))]})}function Ye(e){var n=e.disabledZoom,t=e.disabledVideo,r=e.disabledCaptions,o=e.disabledSlideshow,i=e.disabledThumbnails,a=e.disabledFullscreen,l=[Ae.Z,Ee.Z,Le.Z,Ge.Z,ze.Z,Ve.Z];return i&&(l=l.filter((function(e){return e!==Ge.Z}))),r&&(l=l.filter((function(e){return e!==Ae.Z}))),a&&(l=l.filter((function(e){return e!==Ee.Z}))),o&&(l=l.filter((function(e){return e!==Le.Z}))),n&&(l=l.filter((function(e){return e!==Ve.Z}))),t&&(l=l.filter((function(e){return e!==ze.Z}))),l}function Ue(e){var n=e.totalItems,t=e.disabledTotal,r=(0,Pe.oc)().currentIndex;return t?null:(0,p.jsxs)(u.Z,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[(0,p.jsxs)("strong",{children:[" ",r+1," "]})," / ",n]})}var Qe=(0,r.forwardRef)((function(e,n){return(0,p.jsx)(K.Z,(0,i.Z)({direction:"up",ref:n},e))}));function Xe(e){var n,t,a,l,s,c=e.tour,d=(e.onView,e.onEdit,e.onDelete,(0,ae.S)()),h=(c.id,c.name,c.price,c.Images1),f=(c.bookers,c.createdAt,c.available,c.priceSale,c.destination,c.ratingNumber,c.VIN,c.Year_field),x=c.Make,g=c.Model,j=c.Type,k=(c.Added_Time,c.Modified_Time),C=c.Image_Count,I=c.Days_In_Stock,S=c.Stock,F=c.Keys,T=c.Vehicle_Items,R=(0,w.k)(),N=(0,O.BR)(h),V=function(e){var n=(0,r.useState)(-1),t=(0,m.Z)(n,2),o=t[0],i=t[1];return{selected:o,open:o>=0,onOpen:(0,r.useCallback)((function(n){var t=e.findIndex((function(e){return"video"===e.type?e.poster===n:e.src===n}));i(t)}),[e]),onClose:(0,r.useCallback)((function(){i(-1)}),[]),setSelected:i}}(N),z=(0,p.jsx)(b.Z,{direction:"row",alignItems:"center",sx:(0,i.Z)({top:12,right:12,zIndex:9,borderRadius:1,position:"absolute",p:"2px 6px 2px 4px",typography:"subtitle2"},""!==F&&{bgcolor:"warning.dark"}),children:""!==F&&(0,p.jsxs)(p.Fragment,{children:[" ",(0,p.jsx)(_.Z,{icon:"mdi:table-key",sx:{color:"warning.lighter",mr:.25}})," ","".concat(F," Keys")]})}),A=(0,p.jsxs)(b.Z,{direction:"row",alignItems:"center",sx:{top:12,left:12,zIndex:9,borderRadius:1,bgcolor:"grey.800",position:"absolute",p:"2px 6px 2px 4px",color:"common.white",typography:"subtitle2"},children:[(0,p.jsx)(_.Z,{icon:"solar:tag-price-bold",sx:{color:"primary.main",mr:.25}}),j]}),K=(0,p.jsxs)(b.Z,{direction:"row",alignItems:"center",sx:{bottom:165,left:12,zIndex:9,borderRadius:1,bgcolor:"grey.800",position:"absolute",p:"2px 6px 2px 4px",color:"common.white",typography:"subtitle2",maxWidth:285},children:[(0,p.jsx)(_.Z,{icon:"mdi:folder-information-outline",sx:{color:"primary.dark",mr:.25}}),(0,O.yY)(T,"display_value")]}),$=(0,p.jsxs)(b.Z,{spacing:.5,direction:"row",sx:{p:function(e){return e.spacing(1,1,0,1)}},children:[A,""!==(0,O.yY)(T,"display_value")&&K,z,(0,p.jsx)(b.Z,{flexGrow:1,sx:{position:"relative",cursor:"pointer",color:"common.white"},children:(0,p.jsx)(oe,{alt:null===(n=N[0])||void 0===n?void 0:n.src,src:null===(t=N[0])||void 0===t?void 0:t.src,onClick:function(){var e;return V.onOpen(null===(e=N[0])||void 0===e?void 0:e.src)},sx:{borderRadius:1,height:100,width:1}})}),(0,p.jsx)(b.Z,{spacing:.5,children:(0,p.jsx)(oe,{alt:null===(a=N[1])||void 0===a?void 0:a.src,src:null===(l=N[1])||void 0===l?void 0:l.src,onClick:function(){var e;return V.onOpen(null===(e=N[1])||void 0===e?void 0:e.src)},ratio:"1/1",sx:{borderRadius:1,width:80,cursor:"pointer",color:"common.white",height:100}})})]}),J=(0,p.jsx)(B.Z,{sx:{p:function(e){return e.spacing(2.5,2.5,2,2.5)},cursor:"pointer"},primary:"Last Update: ".concat(ee(k)),secondary:(0,p.jsx)(G.Z,{onClick:R.onTrue,color:"inherit",children:(0,p.jsxs)(y.Z,{title:"Stock # | Year | Make | Model",arrow:!0,children:[S," | ",f," | ",x," | ",g]})}),primaryTypographyProps:{typography:"caption",color:"text.disabled"},secondaryTypographyProps:{mt:1,noWrap:!0,component:"span",color:"text.primary",typography:"subtitle1"}}),ne=(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(b.Z,{spacing:1.5,sx:{position:"relative",p:function(e){return e.spacing(0,2.5,2.5,2.5)}},children:[(0,p.jsx)(H.Z,{onClick:d.onOpen,sx:{position:"absolute",bottom:20,right:8},children:(0,p.jsx)(_.Z,{icon:"eva:more-vertical-fill"})}),(0,p.jsxs)(b.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[(0,p.jsx)(_.Z,{icon:"material-symbols-light:photo-camera-outline",sx:{color:function(){var e="red";return N.length>1&&N.length<10&&(e="orange"),N.length>10&&(e="green"),e}}}),(0,p.jsx)(y.Z,{title:"Photo Count",arrow:!0,children:C})]},C),(0,p.jsxs)(b.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[(0,p.jsx)(_.Z,{icon:"mdi:calendar-clock",sx:{color:function(){var e=(0,O.xN)(I),n="red";return e<7&&(n="green"),e>7&&e<15&&(n="orange"),n}}}),(0,p.jsx)(y.Z,{title:"Days Old",arrow:!0,children:I})]},I)]})}),te=(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(b.Z,{spacing:1.5,sx:{position:"relative",p:function(e){return e.spacing(0,2.5,2.5,2.5)}},children:[[{label:"Add to Keys Needed ?",icon:(0,p.jsx)(_.Z,{icon:"solar:checklist-minimalistic-broken",sx:{color:"error.main"}})}].map((function(e){return(0,p.jsxs)(b.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[e.icon,e.label]},e.label)})),(0,p.jsx)(E.Z,{item:!0,xs:12,md:8,sx:{display:"flex",alignItems:"center",justifyContent:"space-between"}})]})}),re=(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(b.Z,{spacing:1.5,sx:{position:"relative",p:function(e){return e.spacing(0,2.5,2.5,2.5)}},children:[[{label:"Add Reason(s) ?",icon:(0,p.jsx)(_.Z,{icon:"solar:checklist-minimalistic-broken",sx:{color:"error.main"}})}].map((function(e){return(0,p.jsxs)(b.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[e.icon,e.label]},e.label)})),(0,p.jsx)(E.Z,{xs:12,md:8,sx:{display:"flex",alignItems:"center",justifyContent:"space-between"}})]})}),le=function(e){var n,t=(0,v.Z)(),a=(0,o.I0)(),l=(0,r.useRef)(null),s=null!==(n=null===e||void 0===e?void 0:e.originalIndex)&&void 0!==n?n:1,c=(0,r.useState)((null===e||void 0===e?void 0:e.initialSlide)||s),d=(0,m.Z)(c,2),u=d[0],p=d[1],h=(0,r.useState)(void 0),f=(0,m.Z)(h,2),x=f[0],g=f[1],b=(0,r.useState)(null),Z=(0,m.Z)(b,2),y=Z[0],j=(Z[1],"rtl"===t.direction),k=(t.direction,function(e,n){a((0,P.sH)({name:e,value:!0})),a((0,P.sH)({name:"swipeData",value:n}))}),w=(0,i.Z)((0,i.Z)({arrows:!1,dots:!(null===e||void 0===e||!e.customPaging),rtl:j,beforeChange:function(e,n){console.log("Swiped to index:",n),p(n)},afterChange:function(n){0===n&&(k("swipeLeftState",null===e||void 0===e?void 0:e.car_info),console.log("swipeLeftState")),2===n&&(k("swipeRightState",null===e||void 0===e?void 0:e.car_info),console.log("swipeRightState")),n!==s&&setTimeout((function(){l.current&&(console.log("Returning to original index:",s),l.current.slickGoTo(s),p(s))}),300)}},e),{},{fade:!(null===e||void 0===e||!e.fade||j)}),C=(0,r.useCallback)((function(){l.current&&g(l.current)}),[]),I=(0,r.useCallback)((function(){l.current&&l.current.slickPrev()}),[]),_=(0,r.useCallback)((function(){l.current&&l.current.slickNext()}),[]),S=(0,r.useCallback)((function(e){l.current&&(console.log("onTogo to index:",e),l.current.slickGoTo(e))}),[]);return(0,r.useEffect)((function(){C()}),[C]),{nav:x,carouselRef:l,currentIndex:u,carouselSettings:w,onPrev:I,onNext:_,onTogo:S,onSetNav:C,setNav:g,setCurrentIndex:p,dialogSwipe:y}}({autoplay:!1,initialSlide:1,infinite:!0,car_info:c,originalIndex:1}),se=(0,o.v9)((function(e){return e.user})),ce=(se.swipeLeftState,se.swipeRightState,(0,r.useState)("content")),de=(0,m.Z)(ce,2),ue=de[0],pe=de[1],he=(0,r.useCallback)((function(e,n){pe(n)}),[]),fe=(0,M.K$)(),xe=(0,p.jsx)(X.Z,{value:ue,onChange:he,sx:{mb:{xs:3,md:5}},children:[{value:"content",label:"Vehicle Information"},{value:"history",label:"History"},{value:"bookers",label:"Gallery"}].map((function(e){return(0,p.jsx)(Q.Z,{iconPosition:"end",value:e.value,label:e.label,icon:"bookers"===e.value?(0,p.jsx)(ie.Z,{variant:"filled",children:N.length}):""},e.value)}))});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(L.Z,{fullScreen:!0,open:R.value,onClose:R.onFalse,TransitionComponent:Qe,children:[(0,p.jsx)(Y.Z,{position:"relative",color:"default",children:(0,p.jsxs)(U.Z,{children:[(0,p.jsx)(H.Z,{color:"inherit",edge:"start",onClick:R.onFalse,children:(0,p.jsx)(_.Z,{icon:"mingcute:close-line"})}),(0,p.jsxs)(D.Z,{variant:"h6",sx:{flex:1,ml:2},children:[S," | ",f," | ",x," | ",g]})]})}),(0,p.jsxs)(Z.Z,{maxWidth:!fe.themeStretch&&"lg",children:[xe,"bookers"===ue&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(u.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)",xl:"repeat(5, 1fr)"},children:N.map((function(e,n){var t,r;return(0,p.jsx)(oe,{alt:null===(t=N[n])||void 0===t?void 0:t.src,src:null===(r=N[n])||void 0===r?void 0:r.src,onClick:function(){var e;return V.onOpen(null===(e=N[n])||void 0===e?void 0:e.src)},sx:{borderRadius:1}})}))})}),"content"===ue&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(b.Z,{sx:{mx:"auto"},children:(0,p.jsx)(u.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)",xl:"repeat(5, 1fr)"},children:[{label:"Dealer",value:null===c||void 0===c||null===(s=c.Dealer)||void 0===s?void 0:s.display_value,icon:(0,p.jsx)(_.Z,{icon:"solar:user-rounded-bold"})},{label:"Type",value:null===c||void 0===c?void 0:c.Type,icon:(0,p.jsx)(_.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"VIN",value:null===c||void 0===c?void 0:c.VIN,icon:(0,p.jsx)(_.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Stock",value:null===c||void 0===c?void 0:c.Stock,icon:(0,p.jsx)(_.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Year",value:null===c||void 0===c?void 0:c.Year_field,icon:(0,p.jsx)(_.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Make",value:null===c||void 0===c?void 0:c.Make,icon:(0,p.jsx)(_.Z,{icon:"material-symbols-light:car-crash-rounded"})},{label:"Model",value:null===c||void 0===c?void 0:c.Model,icon:(0,p.jsx)(_.Z,{icon:"material-symbols-light:car-crash-rounded"})}].map((function(e){return(0,p.jsxs)(b.Z,{spacing:1.5,direction:"row",children:[e.icon,(0,p.jsx)(B.Z,{primary:e.label,secondary:e.value,primaryTypographyProps:{typography:"body2",color:"text.secondary",mb:.5},secondaryTypographyProps:{typography:"subtitle2",color:"text.primary",component:"span"}})]},e.label)}))})})}),"history"===ue&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(b.Z,{sx:{mx:"auto"},children:(0,p.jsx)(ve,{children:null===c||void 0===c?void 0:c.Vehicle_History})})})]})]}),(0,p.jsxs)(W.Z,{sx:{boxShadow:"rgba(0, 0, 0, 0.1) 0px 2px 4px 0px, rgba(0, 0, 0, 0.1) 0px 12px 24px -4px",borderRadius:2},children:[$,J,(0,p.jsxs)(Oe,(0,i.Z)((0,i.Z)({ref:le.carouselRef},le.carouselSettings),{},{children:[re,ne,te]}))]}),(0,p.jsx)(Ke,{index:V.selected,slides:N,open:V.open,close:V.onClose}),(0,p.jsxs)(ae.Z,{open:d.open,onClose:d.onClose,arrow:"right-top",sx:{width:140},children:[(0,p.jsxs)(q.Z,{onClick:function(){R.onTrue(),d.onClose()},children:[(0,p.jsx)(_.Z,{icon:"solar:eye-bold"}),"View"]}),(0,p.jsxs)(q.Z,{onClick:function(){var e="https://creatorapp.zoho.com/dealernet/dealer-inventory/Dealer_Inventory_Records/record-edit/On_Site_Inventory/".concat(null===c||void 0===c?void 0:c.ID,"/");"string"===typeof e&&""!==e.trim()&&window.open(e,"_blank","noopener,noreferrer")},children:[(0,p.jsx)(_.Z,{icon:"solar:pen-bold"}),"Edit"]})]})]})}function $e(e){var n=e.tours,t=e.resultData,i=((0,w.k)(),(0,o.v9)((function(e){return e.user}))),a=(i.onSiteInventoryList,i.list_page,i.finishedGettingInventoryItems,(0,v.Z)()),l=(0,r.useState)(1),s=(0,m.Z)(l,2),c=s[0],d=s[1];(0,r.useEffect)((function(){window.scrollTo(0,0)}),[c]);var h=(0,o.I0)(),f=(0,A.tv)(),x=(0,r.useCallback)((function(e){f.push(j.H.dashboard.tour.details(e))}),[f]),b=(0,r.useCallback)((function(e){f.push(j.H.dashboard.tour.edit(e))}),[f]),Z=(0,r.useCallback)((function(e){console.info("DELETE",e)}),[]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)",xl:"repeat(5, 1fr)"},children:n.map((function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(Xe,{tour:e,onView:function(){return x(e.ID)},onEdit:function(){return b(e.ID)},onDelete:function(){return Z(e.ID)}},e.ID)})}))}),(0,p.jsx)(V.Z,{count:(0,O.o$)(t.length/20),page:c,onChange:function(e,n){console.log("handleChange page",n),h((0,P.sH)({name:"list_page",value:n})),d(n)},sx:(0,g.Z)({pt:1,pb:1,position:"fixed",bottom:0,right:0,width:"100%",borderTop:"dashed 1px ".concat(a.palette.divider),backgroundColor:"background.default",bgcolor:"background.default"},"& .".concat(z.Z.ul),{justifyContent:"center"})})]})}function Je(e){var n=e.sort,t=e.onSort,r=e.sortOptions,o=e.fieldName,i=(0,ae.S)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(Ce.Z,{disableRipple:!0,color:"inherit",onClick:i.onOpen,endIcon:(0,p.jsx)(_.Z,{icon:i.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:[o,":",(0,p.jsx)(u.Z,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:(0,O.Mj)(r,n)})]}),(0,p.jsx)(ae.Z,{open:i.open,onClose:i.onClose,sx:{width:140},children:r.map((function(e){return(0,p.jsx)(q.Z,{selected:e.value===n,onClick:function(){i.onClose(),t(e.value)},children:e.label},e.value)}))})]})}var en=t(34004),nn=t.n(en),tn=t(79085),rn=t.n(tn),on=t(93044),an=t(69229),ln=t(63466),sn=t(30055),cn=t(97902),dn=t(96349);function un(e){var n=e.query,t=e.results,o=e.onSearch,a=(e.hrefItem,e.onFilters),l=e.filters,s=((0,A.tv)(),(0,r.useState)(!1)),c=(0,m.Z)(s,2),d=c[0],h=c[1],f=(0,r.useCallback)((function(e){console.log("ID",e);var n=l.ID.includes(e)?l.ID.filter((function(n){return n!==e})):[].concat((0,we.Z)(l.ID),[e]);a("ID",n),h(!1)}),[l.ID,a]),x=function(e){if(n&&"Enter"===e.key){var r=t.filter((function(e){return e.Car_FullName===n}))[0];f(r.ID)}};return(0,p.jsx)(sn.Z,{sx:{width:{xs:1}},autoHighlight:!0,open:d,onOpen:function(){return h(!0)},onClose:function(){return h(!1)},popupIcon:null,options:t,onInputChange:function(e,n){return o(n)},getOptionLabel:function(e){return e.Car_FullName},noOptionsText:(0,p.jsx)(dn.Z,{query:n,sx:{bgcolor:"unset"}}),isOptionEqualToValue:function(e,n){return e.ID===n.ID},slotProps:{popper:{placement:"bottom-start",sx:{minWidth:350}},paper:{sx:(0,g.Z)({}," .".concat(cn.Z.option),{pl:.75})}},renderInput:function(e){return(0,p.jsx)(an.Z,(0,i.Z)((0,i.Z)({},e),{},{placeholder:"Type the VIN, Stock #, Year, Make, or Model ",onKeyUp:x,InputProps:(0,i.Z)((0,i.Z)({},e.InputProps),{},{startAdornment:(0,p.jsx)(ln.Z,{position:"start",children:(0,p.jsx)(_.Z,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})})}))},renderOption:function(e,n,t){var o,a=t.inputValue,l=rn()(n.Car_FullName,a),s=nn()(n.Car_FullName,l);return(0,r.createElement)(u.Z,(0,i.Z)((0,i.Z)({component:"li"},e),{},{onClick:function(){return f(n.Car_FullName)},key:n.ID}),(0,p.jsx)(on.Z,{alt:n.Car_FullName,src:null===(o=(0,O.BR)(null===n||void 0===n?void 0:n.Images1)[0])||void 0===o?void 0:o.src,variant:"rounded",sx:{width:48,height:48,flexShrink:0,mr:1.5,borderRadius:1}},n.ID),(0,p.jsx)("div",{children:s.map((function(e,n){return(0,p.jsx)(D.Z,{component:"span",color:e.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:e.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:e.text},n)}))},a))}})}var pn=t(60004),hn=t(85771),fn=t(27029),xn=t(88654),gn=t(94721),mn=t(47974);function vn(e){var n=e.open,t=e.onOpen,o=e.onClose,a=e.filters,l=e.onFilters,s=e.canReset,c=e.onResetFilters,d=e.destinationOptions,u=e.tourGuideOptions,h=e.serviceOptions,f=e.statusOptions,x=(e.vehiclesOptions,e.keysOptions),g=e.dateError,v=e.dataFilteredParam,Z=(0,r.useState)({query:"",results:[]}),j=(0,m.Z)(Z,2),k=j[0],w=j[1],C=(0,r.useCallback)((function(e){if(w((function(n){return(0,i.Z)((0,i.Z)({},n),{},{query:e})})),e){var n=null===v||void 0===v?void 0:v.allData.filter((function(n){return-1!==n.Car_FullName.toLowerCase().indexOf(e.toLowerCase())}));w((function(e){return(0,i.Z)((0,i.Z)({},e),{},{results:n})}))}}),[v]),I=(0,r.useCallback)((function(e){var n=a.services.includes(e)?a.services.filter((function(n){return n!==e})):[].concat((0,we.Z)(a.services),[e]);l("services",n)}),[a.services,l]),S=(0,r.useCallback)((function(e){console.log("STATUS",[].concat((0,we.Z)(a.status),[e]));var n=a.status.includes(e)?a.status.filter((function(n){return n!==e})):[].concat((0,we.Z)(a.status),[e]);l("status",n)}),[a.status,l]),F=(0,r.useCallback)((function(e){console.log("KEYS",[].concat((0,we.Z)(a.keys),[e]));var n=a.keys.includes(e)?a.keys.filter((function(n){return n!==e})):[].concat((0,we.Z)(a.keys),[e]);l("keys",n)}),[a.keys,l]),T=(0,r.useCallback)((function(e){l("startDate",e)}),[l]),R=(0,r.useCallback)((function(e){l("endDate",e)}),[l]),M=(0,r.useCallback)((function(e){l("destination",e)}),[l]),N=(0,r.useCallback)((function(e){l("tourGuides",e)}),[l]),O=(0,p.jsxs)(b.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,p.jsx)(D.Z,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,p.jsx)(y.Z,{title:"Reset",children:(0,p.jsx)(H.Z,{onClick:c,children:(0,p.jsx)(fn.Z,{color:"error",variant:"dot",invisible:!s,children:(0,p.jsx)(_.Z,{icon:"solar:restart-bold"})})})}),(0,p.jsx)(H.Z,{onClick:o,children:(0,p.jsx)(_.Z,{icon:"mingcute:close-line"})})]}),P=(b.Z,D.Z,b.Z,pn.M,a.startDate,pn.M,a.endDate,b.Z,D.Z,sn.Z,d.map((function(e){return e.Car_FullName})),a.destination,b.Z,D.Z,sn.Z,a.tourGuides,(0,p.jsxs)(b.Z,{children:[(0,p.jsx)(D.Z,{variant:"subtitle2",sx:{mb:1},children:"Vehicle Items"}),h.map((function(e){return(0,p.jsx)(De.Z,{control:(0,p.jsx)(Fe.Z,{checked:a.services.includes(e),onClick:function(){return I(e)}}),label:e},e)}))]})),V=(0,p.jsxs)(b.Z,{children:[(0,p.jsx)(D.Z,{variant:"subtitle2",sx:{mb:1},children:"Type"}),f.map((function(e){return(0,p.jsx)(De.Z,{control:(0,p.jsx)(Fe.Z,{checked:a.status.includes(e),onClick:function(){return S(e)}}),label:e},e)}))]}),z=(0,p.jsxs)(b.Z,{children:[(0,p.jsx)(D.Z,{variant:"subtitle2",sx:{mb:1},children:"Keys"}),x.map((function(e){return(0,p.jsx)(De.Z,{control:(0,p.jsx)(Fe.Z,{checked:a.keys.includes(e),onClick:function(){return F(e)}}),label:e},e)}))]}),A=(0,p.jsx)(un,{query:k.query,results:k.results,onSearch:C,hrefItem:function(e){return e},onFilters:l,filters:a});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ce.Z,{disableRipple:!0,color:"inherit",endIcon:(0,p.jsx)(fn.Z,{color:"error",variant:"dot",invisible:!s,children:(0,p.jsx)(_.Z,{icon:"ic:round-filter-list"})}),onClick:t,children:"Filters"}),(0,p.jsxs)(xn.ZP,{anchor:"right",open:n,onClose:o,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:280}},children:[O,(0,p.jsx)(gn.Z,{}),(0,p.jsx)(mn.Z,{sx:{px:2.5,py:3},children:(0,p.jsxs)(b.Z,{spacing:3,children:[V,z,P,A]})})]})]})}var bn=t(27938),Zn=["filters","onFilters","canReset","onResetFilters","results"],yn=["label","children","sx"];function jn(e){var n=e.filters,t=e.onFilters,r=e.canReset,o=e.onResetFilters,a=e.results,l=(0,s.Z)(e,Zn),c=function(e,n){var t=(new Date).getFullYear(),r=e?(0,le.Z)(e):null,o=n?(0,le.Z)(n):null,i=t===r&&t===o,a=!(!e||!n)&&(0,se.Z)(new Date(e),new Date(n)),l=!(!e||!n)&&(0,ce.Z)(new Date(e),new Date(n));return i?l?a?J(n,"dd MMM yy"):"".concat(J(e,"dd")," - ").concat(J(n,"dd MMM yy")):"".concat(J(e,"dd MMM")," - ").concat(J(n,"dd MMM yy")):"".concat(J(e,"dd MMM yy")," - ").concat(J(n,"dd MMM yy"))}(n.startDate,n.endDate);return(0,p.jsxs)(b.Z,(0,i.Z)((0,i.Z)({spacing:1.5},l),{},{children:[(0,p.jsxs)(u.Z,{sx:{typography:"body2"},children:[(0,p.jsxs)("strong",{children:[a," "]}),(0,p.jsx)(u.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:a>1?"results found.":"result found."})]}),(0,p.jsxs)(b.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!n.ID.length&&(0,p.jsx)(kn,{label:"Search:",children:n.ID.map((function(e){return(0,p.jsx)(hn.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.ID.filter((function(n){return n!==e}));t("ID",r)}(e)}},e)}))}),n.startDate&&n.endDate&&(0,p.jsx)(kn,{label:"Available:",children:(0,p.jsx)(hn.Z,{size:"small",label:c,onDelete:function(){t("startDate",null),t("endDate",null)}})}),!!n.services.length&&(0,p.jsx)(kn,{label:"Vehicle Items:",children:n.services.map((function(e){return(0,p.jsx)(hn.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.services.filter((function(n){return n!==e}));t("services",r)}(e)}},e)}))}),!!n.status.length&&(0,p.jsx)(kn,{label:"Type:",children:n.status.map((function(e){return(0,p.jsx)(hn.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.status.filter((function(n){return n!==e}));t("status",r)}(e)}},e)}))}),!!n.keys.length&&(0,p.jsx)(kn,{label:"Keys:",children:n.keys.map((function(e){return(0,p.jsx)(hn.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.keys.filter((function(n){return n!==e}));t("keys",r)}(e)}},e)}))}),!!n.tourGuides.length&&(0,p.jsx)(kn,{label:"Tour guide:",children:n.tourGuides.map((function(e){return(0,p.jsx)(hn.Z,{size:"small",avatar:(0,p.jsx)(on.Z,{alt:e.name,src:e.avatarUrl}),label:e.name,onDelete:function(){return function(e){var r=n.tourGuides.filter((function(n){return n.name!==e.name}));t("tourGuides",r)}(e)}},e.id)}))}),!!n.destination.length&&(0,p.jsx)(kn,{label:"Make:",children:n.destination.map((function(e){return(0,p.jsx)(hn.Z,{label:e,size:"small",onDelete:function(){return function(e){var r=n.destination.filter((function(n){return n!==e}));t("destination",r)}(e)}},e)}))}),r&&(0,p.jsx)(Ce.Z,{color:"error",onClick:o,startIcon:(0,p.jsx)(_.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function kn(e){var n=e.label,t=e.children,r=e.sx,o=(0,s.Z)(e,yn);return(0,p.jsxs)(b.Z,(0,i.Z)((0,i.Z)({component:bn.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,i.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},r)},o),{},{children:[(0,p.jsx)(u.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,p.jsx)(b.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:t})]}))}var wn={destination:[],status:[],tourGuides:[],services:[],keys:[],vehicles:[],comment:null,startDate:null,endDate:null,ID:[]},Cn=[{value:"asc",label:"Asc"},{value:"desc",label:"Desc"}],In=[{value:"Modified_Time",label:"Modified Time"},{value:"Added_Time",label:"Added Time"},{value:"Stock",label:"Stock Number"},{value:"Image_Count",label:"Photo Count"},{value:"Days_In_Stock",label:"Days Old"},{value:"Model",label:"Model"}];function _n(){var e=(0,v.Z)();(0,N.Z)();var n=(0,o.v9)((function(e){return e.user})),t=n.onSiteInventoryList,a=n.list_page,l=n.finishedGettingInventoryItems,s=n.vehicleReports,c=n.swipeRightState,d=n.swipeLeftState,h=(n.swipeData,(0,M.K$)()),f=(0,r.useState)(t),j=(0,m.Z)(f,2),k=j[0],_=j[1],S=(0,r.useState)(t),D=(0,m.Z)(S,2),F=D[0],T=D[1],P=(0,w.k)(),V=(0,r.useState)(In[0].value),z=(0,m.Z)(V,2),A=z[0],L=z[1],E=(0,r.useState)(Cn[1].value),G=(0,m.Z)(E,2),W=G[0],q=G[1],H=(0,r.useState)(l),B=(0,m.Z)(H,2),K=B[0],Y=B[1],U=(0,r.useState)({query:"",results:[]}),Q=(0,m.Z)(U,2),X=Q[0],$=Q[1],J=(0,r.useState)(wn),ee=(0,m.Z)(J,2),ne=ee[0],te=ee[1],re=!(!ne.Added_Time||!ne.Modified_Time)&&ne.Added_Time.getTime()>ne.Modified_Time.getTime(),oe=Sn({inputData:k,filters:ne,sortBy:A,dateError:re,sortOrder:W,allItems:F,doneFetching:l,list_page_param:a});(0,r.useEffect)((function(){var e=(0,O.V6)(t,a);_(null===e||void 0===e?void 0:e.paginateData),T(null===e||void 0===e?void 0:e.allData)}),[t,a]),(0,r.useEffect)((function(){Y(l)}),[l]);var ie=!!ne.destination.length||!!ne.keys.length||!!ne.vehicles.length||!!ne.services.length||!!ne.status.length||!!ne.ID.length,ae=!(null!==oe&&void 0!==oe&&oe.paginateData.length)&&ie,le=(0,r.useCallback)((function(e,n){te((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,g.Z)({},e,n))}))}),[]),se=(0,r.useCallback)((function(e){L(e)}),[]),ce=(0,r.useCallback)((function(e){q(e)}),[]),de=(0,r.useCallback)((function(e){if($((function(n){return(0,i.Z)((0,i.Z)({},n),{},{query:e})})),e){var n=null===oe||void 0===oe?void 0:oe.allData.filter((function(n){return-1!==n.Car_FullName.toLowerCase().indexOf(e.toLowerCase())}));$((function(e){return(0,i.Z)((0,i.Z)({},e),{},{results:n})}))}}),[oe]),ue=(0,r.useCallback)((function(){te(wn)}),[]),pe=(0,p.jsx)(u.Z,{sx:{position:"fixed",top:0,left:0,right:0,zIndex:1100,backgroundColor:"background.default",padding:2,borderBottom:"dashed 1px ".concat(e.palette.divider)},children:(0,p.jsxs)(b.Z,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"column",md:"row",lg:"row",xl:"row"},children:[(0,p.jsx)(un,{query:X.query,results:X.results,onSearch:de,onFilters:le,filters:ne,hrefItem:function(e){return e}}),(0,p.jsxs)(b.Z,{direction:{xs:"column",sm:"column",md:"row",lg:"row",xl:"row"},display:{xs:"inline-table",sm:"inline-table",md:"flex",lg:"flex",xl:"flex"},spacing:1,flexShrink:0,children:[(0,p.jsx)(Je,{sort:A,onSort:se,sortOptions:In,fieldName:"Sort By"}),(0,p.jsx)(Je,{sort:W,onSort:ce,sortOptions:Cn,fieldName:"Sort Order"}),(0,p.jsx)(vn,{open:P.value,onOpen:P.onTrue,onClose:P.onFalse,filters:ne,onFilters:le,canReset:ie,onResetFilters:ue,serviceOptions:(0,O.VQ)(s,"Vehicle_Item"),keysOptions:["N/A","Need","Received","Returned"],vehiclesOptions:(0,O.VQ)(s,"Vehicle_Item"),statusOptions:(0,O.VQ)(t,"Type"),tourGuideOptions:C.$r,destinationOptions:null===oe||void 0===oe?void 0:oe.allData,dateError:re,dataFilteredParam:oe}),"light"===h.themeMode&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(y.Z,{title:"Dark Mode",arrow:!0,children:(0,p.jsx)(I.Z,{onChange:function(e){return h.onUpdate("themeMode","dark")}})})}),"dark"===h.themeMode&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(y.Z,{title:"Light Mode",arrow:!0,children:(0,p.jsx)(I.Z,{checked:!0,onChange:function(e){return h.onUpdate("themeMode","light")}})})})]})]})}),he=(0,p.jsx)(jn,{filters:ne,onResetFilters:ue,canReset:ie,onFilters:le,results:null===oe||void 0===oe?void 0:oe.allData.length});return K?(0,p.jsxs)(Z.Z,{maxWidth:!h.themeStretch&&"lg",children:[d&&(0,p.jsx)(Re,{}),c&&(0,p.jsx)(Ne,{}),pe,(0,p.jsx)(b.Z,{spacing:2.5,sx:{mt:{xs:21,sm:18,md:8},mb:{xs:2,sm:2,md:2}},children:ie&&he}),ae&&(0,p.jsx)(R,{title:"No Data",filled:!0,sx:{py:10}}),(0,p.jsx)($e,{tours:null===oe||void 0===oe?void 0:oe.paginateData,resultData:null===oe||void 0===oe?void 0:oe.allData})]}):(0,p.jsx)(x.a,{})}var Sn=function(e){var n=e.inputData,t=e.filters,r=e.sortBy,o=(e.dateError,e.sortOrder),i=e.allItems,a=e.doneFetching,l=e.list_page_param,s=t.services,c=(t.destination,t.startDate,t.endDate,t.tourGuides,t.status),d=t.keys,u=(t.vehicles,t.ID);console.log("filters",t),console.log("doneFetching",a),console.log("inputData",n),console.log("list_page_param",l),console.log("allItems",i),console.log(r,o);var p=(0,O.YC)(i,r,o);console.log("sortedItems",p);var h=(0,O.V6)(p,l);if(console.log("newInputData",h),n=h,c.length){var f,x=null===(f=n)||void 0===f?void 0:f.allData.filter((function(e){return c.includes(e.Type)}));console.log("statusFiltered",x);var g=(0,O.V6)(x,l);console.log("newStatusFilteredInputData",g),n=g}if(d.length){var m,v=null===(m=n)||void 0===m?void 0:m.allData.filter((function(e){return d.includes(e.Keys)}));console.log("keysFiltered",v);var b=(0,O.V6)(v,l);console.log("newKeysFilteredInputData",b),n=b}if(s.length){var Z,y=null===(Z=n)||void 0===Z?void 0:Z.allData.filter((function(e){return Array.isArray(e.Vehicle_Items)&&e.Vehicle_Items.some((function(e){return s.includes(e.display_value)}))}));console.log("servicesFiltered",y);var j=(0,O.V6)(y,l);console.log("newServicesFilteredInputData",j),n=j}if(u.length){var k,w=null===(k=n)||void 0===k?void 0:k.allData.filter((function(e){return u.includes(e.Car_FullName)}));console.log("IDsFiltered",w);var C=(0,O.V6)(w,l);console.log("newIDsFilteredInputData",C),n=C}return console.log("FINAL_INPUT",n),n};(0,l.ZP)("div")((function(e){var n=e.anchor,t=void 0===n?"top":n,r=e.theme;return(0,i.Z)((0,i.Z)({left:0,zIndex:9,height:80,width:"100%",position:"absolute",clipPath:"polygon(0% 0%, 100% 100%, 0% 100%)",backgroundColor:r.palette.background.default,display:"block",lineHeight:0},"top"===t&&{top:-1,transform:"scale(-1, -1)"}),"bottom"===t&&{bottom:-1,backgroundColor:r.palette.grey[900]})}));function Dn(){var e=(0,a.v)().scrollYProgress;(0,o.v9)((function(e){return e.user})).finishedGettingInventoryItems;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f,{scrollYProgress:e}),(0,p.jsx)(_n,{})]})}function Fn(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(Dn,{})})}}}]);
//# sourceMappingURL=241.ef331566.chunk.js.map